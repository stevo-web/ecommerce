{% extends 'base.html' %}
{% load static %}

{% block content %}

        {% include 'partials/nav.html' %}

            <div class="col-12">
                <!-- Main Content -->
                <main class="row">
                    <div class="col-12 bg-white py-3 my-3">
                        <div class="row">

                            <!-- Product Images -->
                            <div class="col-lg-5 col-md-12 mb-3">
                                <div class="col-12 mb-3">
                                    <div class="img-large border" style="background-image: url({{ product.image.url }})"></div>
                                </div>
                                <div class="col-12">
                                    <div class="row">
                                        {% if product.image2 %}
                                        <div class="col-sm-2 col-3">
                                            <div class="img-small border" style="background-image: url('{{ product.image2.url }}')" data-src="{{ product.image2.url }}"></div>
                                        </div>
                                        {% endif %}
                                        {% if product.image3 %}
                                        <div class="col-sm-2 col-3">
                                            <div class="img-small border" style="background-image: url('{{ product.image3.url }}')" data-src="{{ product.image3.url }}"></div>
                                        </div>
                                        {% endif %}
                                        {% if product.image4 %}
                                        <div class="col-sm-2 col-3">
                                            <div class="img-small border" style="background-image: url('{{ product.image4.url }}')" data-src="{{ product.image4.url }}"></div>
                                        </div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <!-- Product Images -->

                            <!-- Product Info -->
                            <div class="col-lg-5 col-md-9">
                                <div class="col-12 product-name large">
                                    {{ product.description_title }}
                                    <small>By <a href="#">{{ product.shop.name }}</a></small>
                                </div>
                                <div class="col-12 px-0">
                                    <hr>
                                </div>
                                <div class="col-12">
                                    <ul>
                                        <li>{{ product.description }}</li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Product Info -->

                            <!-- Sidebar -->
                            <div class="col-lg-2 col-md-3 text-center">
                                <div class="col-12 border-left border-top sidebar h-100">
                                    <div class="row">
                                        <div class="col-12">
                                        <span class="detail-price-old">
                                            {% if product.discount > 0.0 %}
                                                ksh {{ product.discount }}
                                            {% endif %}
                                        </span>
                                        <span class="detail-price">
                                            ksh {{ product.price }}
                                        </span>
                                        </div>
                                        <div class="col-xl-5 col-md-9 col-sm-3 col-5 mx-auto mt-3">
                                            <div class="mb-3">
                                                <label for="qty">Quantity</label>
                                                <input type="number" id="qty" v-model="quantity" min="1" value="1" class="form-control" required>
                                            </div>
                                        </div>

                                        <div class="col-12 mt-3">
                                            <button v-on:click="addToCart({{ product.id }})" class="btn btn-outline-dark" type="button"><i class="fas fa-cart-plus me-2"></i>Add to cart</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- Sidebar -->

                        </div>
                    </div>

                    <!-- Similar Product -->
                    <div class="col-12">
                        <div class="row">
                            <div class="col-12 py-3">
                                <div class="row">
                                    <div class="col-12 text-center text-uppercase">
                                        <h2>Similar Products</h2>
                                    </div>
                                </div>
                                <div class="row">

                                    <!-- Product -->
                                    {% for product in similar_products %}
                                        {% include 'partials/product.html' %}
                                    {% endfor %}
                                    <!-- Product -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Similar Products -->

                </main>
                <!-- Main Content -->
            </div>
        {% endblock %}